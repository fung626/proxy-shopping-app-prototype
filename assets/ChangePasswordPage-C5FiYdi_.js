import{a as L,u as k,r,j as s,B as d}from"./index-CvO9pKPC.js";import{I as m}from"./input-DnWsiyUA.js";import{L as u}from"./label-Cqb5pUVi.js";import{L as z}from"./lock-CQHeIs6o.js";import{E as w}from"./eye-off-DfQLGFcl.js";import{E as x}from"./eye-CND1pLNp.js";import"./index-BUvxBgzt.js";function O({}){const b=L(),{t:e}=k(),[c,g]=r.useState(""),[a,p]=r.useState(""),[n,j]=r.useState(""),[l,y]=r.useState(!1),[i,C]=r.useState(!1),[h,S]=r.useState(!1),[f,N]=r.useState(!1),[P,o]=r.useState(""),q=async t=>{if(t.preventDefault(),o(""),a.length<8){o(e("changePassword.requirement1"));return}if(a!==n){o(e("changePassword.passwordsDoNotMatch"));return}if(c===a){o(e("changePassword.samePassword"));return}N(!0);try{await new Promise(v=>setTimeout(v,1500)),g(""),p(""),j(""),b("/profile")}catch{o(e("changePassword.error"))}finally{N(!1)}},E=c&&a&&n&&a===n&&a.length>=8;return s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(z,{className:"h-6 w-6 text-red-600"})}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:e("changePassword.updatePassword")}),s.jsx("p",{className:"text-muted-foreground",children:e("changePassword.requirements")})]}),s.jsxs("form",{onSubmit:q,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(u,{htmlFor:"current-password",children:e("changePassword.currentPassword")}),s.jsxs("div",{className:"relative",children:[s.jsx(m,{id:"current-password",type:l?"text":"password",value:c,onChange:t=>g(t.target.value),placeholder:e("changePassword.enterCurrentPassword"),required:!0}),s.jsx(d,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2 h-8 w-8",onClick:()=>y(!l),children:l?s.jsx(w,{className:"h-4 w-4"}):s.jsx(x,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(u,{htmlFor:"new-password",children:e("changePassword.newPassword")}),s.jsxs("div",{className:"relative",children:[s.jsx(m,{id:"new-password",type:i?"text":"password",value:a,onChange:t=>p(t.target.value),placeholder:e("changePassword.enterNewPassword"),required:!0}),s.jsx(d,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2 h-8 w-8",onClick:()=>C(!i),children:i?s.jsx(w,{className:"h-4 w-4"}):s.jsx(x,{className:"h-4 w-4"})})]}),a&&a.length<8&&s.jsx("p",{className:"text-sm text-destructive",children:e("changePassword.requirement1")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(u,{htmlFor:"confirm-password",children:e("changePassword.confirmNewPassword")}),s.jsxs("div",{className:"relative",children:[s.jsx(m,{id:"confirm-password",type:h?"text":"password",value:n,onChange:t=>j(t.target.value),placeholder:e("changePassword.confirmNewPassword"),required:!0}),s.jsx(d,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2 h-8 w-8",onClick:()=>S(!h),children:h?s.jsx(w,{className:"h-4 w-4"}):s.jsx(x,{className:"h-4 w-4"})})]}),n&&a!==n&&s.jsx("p",{className:"text-sm text-destructive",children:e("changePassword.passwordsDoNotMatch")})]}),P&&s.jsx("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-md",children:s.jsx("p",{className:"text-sm text-destructive",children:P})}),s.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[s.jsxs("h4",{className:"font-medium mb-2",children:[e("changePassword.passwordRequirements"),":"]}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsxs("li",{className:`flex items-center space-x-2 ${a.length>=8?"text-green-600":""}`,children:[s.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${a.length>=8?"bg-green-600":"bg-muted-foreground"}`}),s.jsx("span",{children:e("changePassword.requirement1")})]}),s.jsxs("li",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-muted-foreground"}),s.jsx("span",{children:e("changePassword.requirement2")})]}),s.jsxs("li",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-muted-foreground"}),s.jsx("span",{children:e("changePassword.requirement3")})]})]})]}),s.jsx(d,{type:"submit",className:"w-full",disabled:!E||f,children:e(f?"changePassword.updating":"changePassword.changeButton")})]})]})})}export{O as ChangePasswordPage};
