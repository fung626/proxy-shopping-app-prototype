import{u as n,a as x,j as e,B as u}from"./index-CvO9pKPC.js";import{B as a}from"./badge-CXoDSUIB.js";import{u as r}from"./wishlistStore-CfNM5_Pj.js";import{c as h}from"./common-Dk-gsxo2.js";import{I as g}from"./ImageWithFallback--6Rpc7vq.js";import{H as p}from"./heart-DlE89daf.js";import{M as f}from"./map-pin-BzPRdFpW.js";const R=({loading:d,request:s})=>{const{t:i}=n(),c=x(),{isWishlistItem:l,toggleWishlistItem:o}=r();return d?e.jsxs("div",{className:"p-3 rounded-xl bg-muted/50 animate-pulse",children:[e.jsx("div",{className:"w-full h-32 rounded-lg bg-muted mb-3"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})]}):e.jsxs("div",{className:"p-3 rounded-xl bg-muted/50 cursor-pointer hover:bg-muted/70 transition-colors",onClick:()=>c(`/requests/${s?.id}`),children:[e.jsxs("div",{className:"relative mb-3",children:[e.jsx("div",{className:"w-full h-32 rounded-lg overflow-hidden",children:e.jsx(g,{src:s?.images?.[0]||"",alt:s?.title,className:"w-full h-full object-cover"})}),e.jsx(u,{size:"sm",variant:"ghost",className:`absolute top-2 right-2 h-8 w-8 p-0 bg-card/80 hover:bg-card rounded-full ${s&&l(s.id)?"text-primary":"text-muted-foreground"}`,onClick:m=>{if(m.stopPropagation(),!!s){o(s.id,"request");try{const t=r.getState();l(s.id)?t.addRemoteItem&&t.addRemoteItem(s.id,"request"):t.removeRemoteItem&&t.removeRemoteItem(s.id)}catch{}}},children:e.jsx(p,{className:`h-4 w-4 ${s&&l(s.id)?"fill-current":""}`})}),e.jsxs(a,{className:"absolute top-2 left-2 bg-blue-600 text-white text-xs px-2 py-1",children:[s?.budget_min," - ",s?.budget_max," ",s?.currency]}),e.jsx(a,{className:"absolute bottom-2 left-2 bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300 text-xs px-2 py-1",children:i("common.request")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm line-clamp-2 leading-tight",children:s?.title}),e.jsxs("div",{className:"grid grid-cols-2 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(f,{className:"h-3 w-3"}),e.jsx("span",{className:"truncate",children:s?.expected_delivery_location})]}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsx(a,{variant:"secondary",className:"text-xs whitespace-nowrap",children:i("common.offersCount",{count:s?.offers?.length||0})})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-muted-foreground truncate mr-2",children:s?.user_name}),e.jsx(a,{variant:"outline",className:"text-xs whitespace-nowrap",children:i(`common.urgency${h(s?.urgency)}`)})]})]})]},s?.id)};export{R};
