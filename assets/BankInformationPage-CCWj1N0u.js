import{u as D,a as U,r as u,j as e,B as g}from"./index-CvO9pKPC.js";import{I as i}from"./input-DnWsiyUA.js";import{L as c}from"./label-Cqb5pUVi.js";import{S as h,a as x,b,c as j,d as n}from"./select-Bn-NFenP.js";import{C as B}from"./credit-card-DAW3eLy7.js";import{E as F}from"./eye-off-DfQLGFcl.js";import{E as H}from"./eye-CND1pLNp.js";import"./index-BUvxBgzt.js";import"./index-vsMTD7gr.js";import"./index-CosQv8v_.js";import"./index-B46UinAq.js";import"./Combination-DwCW9mbS.js";import"./index-BS1Kyr__.js";import"./index-wsE_5AEc.js";import"./check-BygKOcWJ.js";function ee({user:R}){const{t:s}=D(),q=U(),[p,z]=u.useState(!1),[N,A]=u.useState(!1),[k,y]=u.useState(!1),[f,C]=u.useState(""),[a,w]=u.useState({accountHolderName:R?.name||"",bankName:"",accountNumber:"",routingNumber:"",accountType:"checking",country:"HK",currency:"HKD",swiftCode:"",iban:"",address:{street:"",city:"",state:"",zipCode:"",country:"HK"}}),[t,v]=u.useState({}),K=()=>{const r={};return a.accountHolderName.trim()||(r.accountHolderName=s("bank.errors.accountHolderNameRequired")),a.bankName.trim()||(r.bankName=s("bank.errors.bankNameRequired")),a.accountNumber.trim()?a.accountNumber.length<8&&(r.accountNumber=s("bank.errors.accountNumberMinLength")):r.accountNumber=s("bank.errors.accountNumberRequired"),a.routingNumber.trim()?a.routingNumber.length!==9&&(r.routingNumber=s("bank.errors.routingNumberLength")):r.routingNumber=s("bank.errors.routingNumberRequired"),a.country!=="US"&&!a.swiftCode?.trim()&&(r.swiftCode=s("bank.errors.swiftCodeRequired")),a.address.street.trim()||(r.street=s("bank.errors.streetRequired")),a.address.city.trim()||(r.city=s("bank.errors.cityRequired")),a.address.zipCode.trim()||(r.zipCode=s("bank.errors.zipCodeRequired")),v(r),Object.keys(r).length===0},E=async r=>{if(r.preventDefault(),C(""),!!K()){y(!0);try{await new Promise(o=>setTimeout(o,1500)),console.log("Saving bank information:",a),q("/profile")}catch(o){console.error("Error saving bank information:",o),C(s("bank.errors.saveFailed"))}finally{y(!1)}}},l=(r,o)=>{w(d=>({...d,[r]:o})),t[r]&&v(d=>({...d,[r]:""}))},m=(r,o)=>{w(d=>({...d,address:{...d.address,[r]:o}})),t[r]&&v(d=>({...d,[r]:""}))},S=a.country!=="US",I=a.accountHolderName&&a.bankName&&a.accountNumber&&a.address.street&&a.address.city&&a.address.zipCode&&(S?a.swiftCode:a.routingNumber);return e.jsx("div",{className:"min-h-screen bg-background",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(B,{className:"h-6 w-6 text-red-600"})}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:s("bank.addBankInfo")}),e.jsx("p",{className:"text-muted-foreground",children:s("bank.description")})]}),e.jsxs("form",{onSubmit:E,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"accountHolderName",children:s("bank.fullName")}),e.jsx(i,{id:"accountHolderName",value:a.accountHolderName,onChange:r=>l("accountHolderName",r.target.value),placeholder:s("bank.placeholders.fullName"),required:!0}),t.accountHolderName&&e.jsx("p",{className:"text-sm text-destructive",children:t.accountHolderName})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"country",children:s("bank.country")}),e.jsxs(h,{value:a.country,onValueChange:r=>l("country",r),children:[e.jsx(x,{children:e.jsx(b,{placeholder:s("bank.placeholders.selectCountry")})}),e.jsxs(j,{children:[e.jsx(n,{value:"US",children:s("countries.unitedStates")}),e.jsx(n,{value:"CA",children:s("countries.canada")}),e.jsx(n,{value:"GB",children:s("countries.unitedKingdom")}),e.jsx(n,{value:"DE",children:s("countries.germany")}),e.jsx(n,{value:"FR",children:s("countries.france")}),e.jsx(n,{value:"JP",children:s("countries.japan")}),e.jsx(n,{value:"AU",children:s("countries.australia")}),e.jsx(n,{value:"SG",children:s("countries.singapore")}),e.jsx(n,{value:"HK",children:s("countries.hongKong")}),e.jsx(n,{value:"KR",children:s("countries.southKorea")})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"currency",children:s("bank.currency")}),e.jsxs(h,{value:a.currency,onValueChange:r=>l("currency",r),children:[e.jsx(x,{children:e.jsx(b,{placeholder:s("bank.placeholders.selectCurrency")})}),e.jsxs(j,{children:[e.jsx(n,{value:"USD",children:s("currencies.usd")}),e.jsx(n,{value:"EUR",children:s("currencies.eur")}),e.jsx(n,{value:"GBP",children:s("currencies.gbp")}),e.jsx(n,{value:"JPY",children:s("currencies.jpy")}),e.jsx(n,{value:"CAD",children:s("currencies.cad")}),e.jsx(n,{value:"AUD",children:s("currencies.aud")}),e.jsx(n,{value:"SGD",children:s("currencies.sgd")}),e.jsx(n,{value:"HKD",children:s("currencies.hkd")}),e.jsx(n,{value:"KRW",children:s("currencies.krw")})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"bankName",children:s("bank.bankName")}),e.jsx(i,{id:"bankName",value:a.bankName,onChange:r=>l("bankName",r.target.value),placeholder:s("bank.placeholders.bankName"),required:!0}),t.bankName&&e.jsx("p",{className:"text-sm text-destructive",children:t.bankName})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"accountType",children:s("bank.accountType")}),e.jsxs(h,{value:a.accountType,onValueChange:r=>l("accountType",r),children:[e.jsx(x,{children:e.jsx(b,{placeholder:s("bank.placeholders.selectAccountType")})}),e.jsxs(j,{children:[e.jsx(n,{value:"checking",children:s("bank.checkingAccount")}),e.jsx(n,{value:"savings",children:s("bank.savingsAccount")})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"accountNumber",children:s("bank.accountNumber")}),e.jsxs("div",{className:"relative",children:[e.jsx(i,{id:"accountNumber",type:p?"text":"password",value:a.accountNumber,onChange:r=>l("accountNumber",r.target.value.replace(/\D/g,"")),placeholder:s("bank.placeholders.accountNumber"),required:!0}),e.jsx(g,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2 h-8 w-8",onClick:()=>z(!p),children:p?e.jsx(F,{className:"h-4 w-4"}):e.jsx(H,{className:"h-4 w-4"})})]}),t.accountNumber&&e.jsx("p",{className:"text-sm text-destructive",children:t.accountNumber})]}),S?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"swiftCode",children:s("bank.swiftCode")}),e.jsx(i,{id:"swiftCode",value:a.swiftCode||"",onChange:r=>l("swiftCode",r.target.value.toUpperCase()),placeholder:s("bank.placeholders.swiftCode"),required:!0}),t.swiftCode&&e.jsx("p",{className:"text-sm text-destructive",children:t.swiftCode})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"iban",children:s("bank.iban")}),e.jsx(i,{id:"iban",value:a.iban||"",onChange:r=>l("iban",r.target.value.toUpperCase()),placeholder:s("bank.placeholders.iban")})]})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"routingNumber",children:s("bank.routingNumber")}),e.jsxs("div",{className:"relative",children:[e.jsx(i,{id:"routingNumber",type:N?"text":"password",value:a.routingNumber,onChange:r=>l("routingNumber",r.target.value.replace(/\D/g,"").slice(0,9)),placeholder:s("bank.placeholders.routingNumber"),maxLength:9,required:!0}),e.jsx(g,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2 h-8 w-8",onClick:()=>A(!N),children:N?e.jsx(F,{className:"h-4 w-4"}):e.jsx(H,{className:"h-4 w-4"})})]}),t.routingNumber&&e.jsx("p",{className:"text-sm text-destructive",children:t.routingNumber})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-medium",children:s("bank.bankAddress")}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"street",children:s("bank.streetAddress")}),e.jsx(i,{id:"street",value:a.address.street,onChange:r=>m("street",r.target.value),placeholder:s("bank.placeholders.streetAddress"),required:!0}),t.street&&e.jsx("p",{className:"text-sm text-destructive",children:t.street})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"city",children:s("bank.city")}),e.jsx(i,{id:"city",value:a.address.city,onChange:r=>m("city",r.target.value),placeholder:s("bank.placeholders.city"),required:!0}),t.city&&e.jsx("p",{className:"text-sm text-destructive",children:t.city})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"state",children:s("bank.stateProvince")}),e.jsx(i,{id:"state",value:a.address.state,onChange:r=>m("state",r.target.value),placeholder:s("bank.placeholders.stateProvince")})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"zipCode",children:s("bank.zipCode")}),e.jsx(i,{id:"zipCode",value:a.address.zipCode,onChange:r=>m("zipCode",r.target.value),placeholder:s("bank.placeholders.zipCode"),required:!0}),t.zipCode&&e.jsx("p",{className:"text-sm text-destructive",children:t.zipCode})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"addressCountry",children:s("bank.addressCountry")}),e.jsxs(h,{value:a.address.country,onValueChange:r=>m("country",r),children:[e.jsx(x,{children:e.jsx(b,{placeholder:s("bank.placeholders.selectCountry")})}),e.jsxs(j,{children:[e.jsx(n,{value:"US",children:s("countries.unitedStates")}),e.jsx(n,{value:"CA",children:s("countries.canada")}),e.jsx(n,{value:"GB",children:s("countries.unitedKingdom")}),e.jsx(n,{value:"DE",children:s("countries.germany")}),e.jsx(n,{value:"FR",children:s("countries.france")}),e.jsx(n,{value:"JP",children:s("countries.japan")}),e.jsx(n,{value:"AU",children:s("countries.australia")}),e.jsx(n,{value:"SG",children:s("countries.singapore")}),e.jsx(n,{value:"HK",children:s("countries.hongKong")}),e.jsx(n,{value:"KR",children:s("countries.southKorea")})]})]})]})]})]}),f&&e.jsx("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-md",children:e.jsx("p",{className:"text-sm text-destructive",children:f})}),e.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[e.jsxs("h4",{className:"font-medium mb-2",children:[s("bank.verificationProcess"),":"]}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-muted-foreground"}),e.jsx("span",{children:s("bank.securityInfo")})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-muted-foreground"}),e.jsx("span",{children:s("bank.verificationTime")})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-muted-foreground"}),e.jsx("span",{children:s("bank.paymentsInfo")})]})]})]}),e.jsx(g,{type:"submit",className:"w-full",disabled:!I||k,children:s(k?"bank.saving":"bank.save")})]})]})})}export{ee as BankInformationPage};
