import{a as S,u as F,r as c,j as e,B as l,w as p}from"./index-CvO9pKPC.js";import{G as P,C as T,L}from"./language-multi-select-BO037zF_.js";import{A as d}from"./input-DnWsiyUA.js";import{L as o}from"./label-Cqb5pUVi.js";import{P as z}from"./phone-input-BD6KTjnM.js";import{T as A}from"./textarea-TEs07ww8.js";import{C as I}from"./camera-BjJORJ-6.js";import{E as j}from"./eye-off-DfQLGFcl.js";import{E as v}from"./eye-CND1pLNp.js";import"./countries-BdmsY0m-.js";import"./select-Bn-NFenP.js";import"./index-vsMTD7gr.js";import"./index-CosQv8v_.js";import"./index-B46UinAq.js";import"./Combination-DwCW9mbS.js";import"./index-BUvxBgzt.js";import"./index-BS1Kyr__.js";import"./index-wsE_5AEc.js";import"./check-BygKOcWJ.js";import"./index-BdAoUvTi.js";import"./badge-CXoDSUIB.js";import"./index-tYtXYGJ5.js";import"./dialog-DWMkWXSP.js";import"./x-wt5hBkWR.js";import"./search-B_nDvCvE.js";const E=()=>{const u=S(),{t:a}=F(),[m,N]=c.useState(!1),[f,i]=c.useState(),[t,b]=c.useState({firstName:"",lastName:"",nickname:"",email:"",phone:"",countryCode:"+852",gender:"",bio:"",country:"",languages:[],password:"",confirmPassword:"",avatar:null,agreeToTerms:!1}),[h,w]=c.useState(!1),[x,y]=c.useState(!1);c.useEffect(()=>()=>{t.avatar&&URL.revokeObjectURL(URL.createObjectURL(t.avatar))},[t.avatar]);const r=(s,n)=>{b(k=>({...k,[s]:n}))},C=s=>{if(i(""),!t.nickname.trim()){i(a("auth.nicknameRequired"));return}if(!t.email.trim()){i(a("auth.emailRequired"));return}if(t.password.length<8){i(a("auth.passwordTooShort"));return}if(t.password!==t.confirmPassword){i(a("auth.passwordsDoNotMatch"));return}if(!t.agreeToTerms){i(a("auth.agreeToTerms"));return}sessionStorage.setItem("signupFormData",JSON.stringify(t)),u("/auth/signup-preferences")},g=async s=>{try{let n;switch(s){case"google":({error:n}=await p.signInWithGoogle());break;case"facebook":({error:n}=await p.signInWithFacebook());break;case"apple":({error:n}=await p.signInWithApple());break}n&&i(n.message||a(`auth.${s}SignInFailed`))}catch(n){i(n.message||a(`auth.${s}SignInFailed`))}finally{N(!1)}};return e.jsx("div",{className:"flex-1 px-6 py-8",children:e.jsxs("div",{className:"max-w-sm mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-3",children:a("auth.createAccount")}),e.jsx("p",{className:"text-muted-foreground",children:a("auth.joinPlatform")})]}),e.jsxs("form",{onSubmit:C,className:"space-y-5",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(o,{className:"text-sm font-medium text-foreground",children:a("auth.profilePicture")}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",id:"avatar",accept:"image/*",onChange:s=>{const n=s.target.files?.[0]||null;r("avatar",n)},className:"hidden"}),e.jsx("button",{type:"button",onClick:()=>document.getElementById("avatar")?.click(),className:"w-20 h-20 bg-muted/20 border-2 border-dashed border-muted rounded-full flex items-center justify-center overflow-hidden hover:bg-muted/30 transition-colors cursor-pointer",children:t.avatar?e.jsx("img",{src:URL.createObjectURL(t.avatar),alt:"Avatar preview",className:"w-full h-full object-cover"}):e.jsx(I,{className:"h-6 w-6 text-muted-foreground"})})]})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(o,{htmlFor:"name",className:"text-sm font-medium text-foreground",children:a("auth.name")}),e.jsx(d,{id:"name",value:t.firstName,onChange:s=>r("firstName",s.target.value),placeholder:a("auth.firstName")})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(o,{htmlFor:"lastName",className:"text-sm font-medium text-foreground",children:a("auth.lastName")}),e.jsx(d,{id:"lastName",value:t.lastName,onChange:s=>r("lastName",s.target.value),placeholder:a("auth.lastName")})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(o,{htmlFor:"nickname",className:"text-sm font-medium text-foreground",children:a("auth.nickname")}),e.jsx(d,{id:"nickname",value:t.nickname,onChange:s=>r("nickname",s.target.value),placeholder:a("auth.nickname"),required:!0})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(o,{className:"text-sm font-medium text-foreground",children:a("auth.gender")}),e.jsx(P,{value:t.gender,onValueChange:s=>r("gender",s),variant:"default"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(o,{htmlFor:"email",className:"text-sm font-medium text-foreground",children:a("auth.email")}),e.jsx(d,{id:"email",type:"email",value:t.email,onChange:s=>r("email",s.target.value),placeholder:"johndoe@email.com",required:!0})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(o,{htmlFor:"phone",className:"text-sm font-medium text-foreground",children:a("auth.phoneNo")}),e.jsx(z,{phoneValue:t.phone,countryCode:t.countryCode,onPhoneChange:s=>r("phone",s),onCountryCodeChange:s=>r("countryCode",s),variant:"auth"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(o,{htmlFor:"country",className:"text-sm font-medium text-foreground",children:a("auth.country")}),e.jsx(T,{value:t.country,onValueChange:s=>r("country",s),placeholder:"Select your country"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(o,{htmlFor:"bio",className:"text-sm font-medium text-foreground",children:a("auth.bio")}),e.jsx(A,{id:"bio",value:t.bio,onChange:s=>r("bio",s.target.value),placeholder:a("auth.tellUsAboutYourself"),className:"min-h-[80px] resize-none",maxLength:300}),e.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[t.bio.length,"/300"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(o,{className:"text-sm font-medium text-foreground",children:a("auth.languages")}),e.jsx(L,{value:t.languages,onValueChange:s=>r("languages",s),placeholder:a("auth.selectLanguages"),maxSelected:5}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a("auth.languagesHelp")})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(o,{htmlFor:"password",className:"text-sm font-medium text-foreground",children:a("auth.password")}),e.jsxs("div",{className:"relative",children:[e.jsx(d,{id:"password",type:h?"text":"password",value:t.password,onChange:s=>r("password",s.target.value),placeholder:"●●●●●●●●●●●●",required:!0,className:"pr-12"}),e.jsx(l,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1 h-10 w-10 hover:bg-transparent",onClick:()=>w(!h),children:h?e.jsx(j,{className:"h-4 w-4 text-muted-foreground"}):e.jsx(v,{className:"h-4 w-4 text-muted-foreground"})})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(o,{htmlFor:"confirmPassword",className:"text-sm font-medium text-foreground",children:a("auth.confirmPassword")}),e.jsxs("div",{className:"relative",children:[e.jsx(d,{id:"confirmPassword",type:x?"text":"password",value:t.confirmPassword,onChange:s=>r("confirmPassword",s.target.value),placeholder:"●●●●●●●●●●●●",required:!0,className:"pr-12"}),e.jsx(l,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1 h-10 w-10 hover:bg-transparent",onClick:()=>y(!x),children:x?e.jsx(j,{className:"h-4 w-4 text-muted-foreground"}):e.jsx(v,{className:"h-4 w-4 text-muted-foreground"})})]})]}),e.jsxs("div",{className:"flex items-start space-x-3 pt-2",children:[e.jsx("input",{type:"checkbox",id:"agreeToTerms",checked:t.agreeToTerms,onChange:s=>r("agreeToTerms",s.target.checked),className:"mt-0.5 w-4 h-4 text-primary border-muted rounded focus:ring-primary focus:ring-2",required:!0}),e.jsxs("div",{className:"text-sm text-muted-foreground leading-relaxed",children:[a("auth.agreeWith")," ",e.jsx(l,{type:"button",variant:"link",onClick:()=>u("/info/terms"),className:"p-0 h-auto text-primary text-sm font-medium underline",children:a("auth.termsConditions")})]})]}),f&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-red-800 text-sm",children:f})}),e.jsx(l,{type:"submit",className:"w-full h-12 bg-primary hover:bg-primary/90 text-primary-foreground font-medium rounded-xl mt-8",disabled:m,children:a(m?"auth.creatingAccount":"auth.continueToPreferences")})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-muted"})}),e.jsx("div",{className:"relative flex justify-center text-xs",children:e.jsx("span",{className:"bg-background px-4 text-muted-foreground",children:a("auth.orSignUpWith")})})]}),e.jsxs("div",{className:"mt-6 flex justify-center space-x-6",children:[e.jsx(l,{variant:"ghost",size:"icon",className:"w-12 h-12 rounded-full border border-muted hover:bg-muted/50",onClick:()=>g("facebook"),disabled:m,children:e.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"#1877F2",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),e.jsx(l,{variant:"ghost",size:"icon",className:"w-12 h-12 rounded-full border border-muted hover:bg-muted/50",onClick:()=>g("google"),disabled:m,children:e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})}),e.jsx(l,{variant:"ghost",size:"icon",className:"w-12 h-12 rounded-full border border-muted hover:bg-muted/50",onClick:()=>g("apple"),disabled:m,children:e.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"#000000",children:e.jsx("path",{d:"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701"})})})]})]}),e.jsxs("div",{className:"mt-8 text-center",children:[e.jsxs("span",{className:"text-muted-foreground text-sm",children:[a("auth.alreadyHaveAccount")," "]}),e.jsx(l,{variant:"link",onClick:()=>u("/auth/signin"),className:"p-0 h-auto text-primary text-sm font-medium",children:a("auth.signIn")})]})]})})};function ne(){return e.jsx("div",{className:"min-h-screen bg-background flex flex-col",children:e.jsx(E,{})})}export{ne as SignUpPage};
