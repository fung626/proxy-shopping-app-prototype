import{d as z,j as e,u as te,a as ne,c as le,h as ce,r as f,P as j,B as c}from"./index-CvO9pKPC.js";import{I as E}from"./ImageWithFallback--6Rpc7vq.js";import{u as ie,A as D}from"./useModal-DWtBkeOJ.js";import{B as I}from"./badge-CXoDSUIB.js";import{I as de}from"./input-DnWsiyUA.js";import{P as oe}from"./progress-steps-BYrez380.js";import{S as L}from"./separator-raDU85jk.js";import{S as me,b as xe,c as he,d as ue}from"./sheet-C12UcK6m.js";import{c as fe}from"./chatSupabaseService-C5-xj_cv.js";import{o as je}from"./offersSupabaseService-BThdOnLG.js";import{o}from"./ordersSupabaseService-C1vKZQTj.js";import{r as pe}from"./requestsSupabaseService-soQQ1D_i.js";import"./wishlistStore-CfNM5_Pj.js";import{g as B,a as Ne,e as ge,f as U,b as be,h as ve}from"./orders-BbzWbzRe.js";import{S as t}from"./skeleton-D4u7SwtH.js";import{M as ye}from"./map-pin-BzPRdFpW.js";import{C as we}from"./credit-card-DAW3eLy7.js";import{C as x}from"./circle-check-big-Dh9XEviq.js";import{C as ke}from"./clock-BGCf1Cg4.js";import"./index-BUvxBgzt.js";import"./index-tYtXYGJ5.js";import"./index-CosQv8v_.js";import"./index-B46UinAq.js";import"./Combination-DwCW9mbS.js";import"./index-BS1Kyr__.js";import"./index-BdAoUvTi.js";import"./x-wt5hBkWR.js";import"./search-B_nDvCvE.js";import"./truck-BV3tXDUF.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],H=z("circle-x",Ce);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Ae=z("message-square",Se);function Pe(){return e.jsxs("div",{className:"flex-1 bg-background pb-20",children:[e.jsx("div",{className:"bg-background p-4 sticky top-0 z-10 border-b",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx(t,{className:"h-5 w-40"}),e.jsx(t,{className:"h-5 w-8"})]})}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-muted/50",children:[e.jsx("h2",{className:"font-semibold mb-4",children:e.jsx(t,{className:"h-6 w-32"})}),e.jsx("div",{className:"space-y-3",children:[...Array(3)].map((r,h)=>e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(t,{className:"w-16 h-16 flex-shrink-0 rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(t,{className:"h-4 w-1/2 mb-2"}),e.jsx(t,{className:"h-3 w-3/4 mb-2"}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsx(t,{className:"h-3 w-24"}),e.jsx(t,{className:"h-4 w-20"})]})]})]},h))}),e.jsxs("div",{className:"mt-4",children:[e.jsx(t,{className:"h-4 w-1/3 mb-2"}),e.jsx(t,{className:"h-6 w-40"})]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-muted/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(t,{className:"h-5 w-40"}),e.jsx(t,{className:"h-5 w-16"})]}),e.jsx(t,{className:"h-3 w-full mb-3"}),e.jsx(t,{className:"h-2 w-full rounded-full"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-muted/50",children:[e.jsx("h2",{className:"font-semibold mb-4",children:e.jsx(t,{className:"h-6 w-32"})}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx(t,{className:"h-4 w-3/4"}),e.jsx(t,{className:"h-4 w-1/2"}),e.jsx(t,{className:"h-4 w-1/4"})]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-muted/50",children:[e.jsx("h2",{className:"font-semibold mb-4",children:e.jsx(t,{className:"h-6 w-40"})}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx(t,{className:"h-4 w-1/3"}),e.jsx(t,{className:"h-4 w-1/6"})]}),e.jsx(t,{className:"h-4 w-1/2"}),e.jsx(t,{className:"h-4 w-1/3"})]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-muted/50",children:[e.jsx("h2",{className:"font-semibold mb-4",children:e.jsx(t,{className:"h-6 w-40"})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(t,{className:"w-12 h-12 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(t,{className:"h-4 w-1/2 mb-2"}),e.jsx(t,{className:"h-3 w-1/3"})]}),e.jsx(t,{className:"h-9 w-28 rounded-md"})]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-muted/50",children:[e.jsx("h2",{className:"font-semibold mb-4",children:e.jsx(t,{className:"h-6 w-40"})}),e.jsx("div",{className:"space-y-3",children:[...Array(4)].map((r,h)=>e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(t,{className:"w-2 h-2 rounded-full bg-primary"}),e.jsx("div",{className:"w-px h-8 bg-border mt-1"})]}),e.jsxs("div",{className:"flex-1 pb-3",children:[e.jsx(t,{className:"h-4 w-1/3 mb-2"}),e.jsx(t,{className:"h-3 w-1/2"})]})]},h))})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-muted/50",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(t,{className:"h-4 w-1/3"}),e.jsx(t,{className:"h-4 w-1/4"}),e.jsx(t,{className:"h-4 w-1/2"})]}),e.jsxs("div",{className:"mt-4 flex space-x-2",children:[e.jsx(t,{className:"h-10 flex-1 rounded-md"}),e.jsx(t,{className:"h-10 flex-1 rounded-md"})]})]})]})]})}function ts(){const{t:r}=te(),{showModal:h}=ie(),M=ne(),{user:g}=le(),{orderId:S}=ce(),[s,_]=f.useState(null),[T,R]=f.useState(!0);f.useEffect(()=>{S&&d()},[S]);const d=async()=>{try{R(!0);const a=await o.getOrderById(S);if(!a){_(null);return}let n={};if(a.requestId){const l=await pe.getRequestById(a.requestId);l&&(n.request=l)}if(a.offerId){const l=await je.getOfferById(a.offerId);l&&(n.offer=l)}_({...a,...n})}catch(a){console.error("Error loading order:",a)}finally{R(!1)}},V=async()=>{if(!s||!g||g.id===s.agentUserId||g.id===s.clientUserId)return;const n=B(g,s)==="client"?s.agentUserId:s.clientUserId;try{const l=await fe.getOrCreateConversation({participant_user_id:n,order_id:s.id});l&&M(`/messages/chat/${l.id}`)}catch(l){console.error("Error contacting user:",l)}},$=async()=>{if(!s||(await h({component:D,props:{title:"common.alert",content:r("orders.confirmCancel")}})).action==="CLOSE"||(await h({component:D,props:{title:"common.alert",content:r("orders.cancelReason")}})).action==="CLOSE")return;await o.cancelOrder(s.id,"demo reason")&&await d()},K=async()=>{if(!s)return;(await h({component:D,props:{title:"common.alert",content:r("orders.confirmPayment")}})).action==="CONFIRM"&&await o.confirmPayment(s.id)&&await d()},G=async()=>{if(!s)return;await o.markAsProcessing(s.id)&&await d()},W=async()=>{if(!s)return;await o.markReadyForHandoff(s.id)&&await d()},X=async()=>{if(!s)return;const a=window.prompt(r("orders.enterTrackingNumber"));if(!a)return;await o.markAsShipped(s.id,a)&&await d()},J=async()=>{if(!s)return;await o.markInTransit(s.id)&&await d()},Q=async()=>{if(!s)return;await o.markAsDelivered(s.id)&&await d()},O=async()=>{if(!s||!window.confirm(r("orders.confirmComplete")))return;await o.confirmCompletion(s.id)&&await d()},[F,v]=f.useState(!1),[p,N]=f.useState(["","","","","",""]),[q,y]=f.useState(!1),b=f.useRef([]),Y=()=>{v(!0)},Z=(a,n)=>{const l=n.replace(/\D/g,"");if(l.length<=1){const k=[...p];k[a]=l,N(k),y(!1),l&&a<5&&b.current[a+1]?.focus()}},ee=(a,n)=>{n.key==="Backspace"&&!p[a]&&a>0&&b.current[a-1]?.focus()},se=a=>{a.preventDefault();const n=a.clipboardData.getData("text").replace(/\D/g,"").slice(0,6);if(n){const l=[...p];for(let C=0;C<6;C++)l[C]=n[C]||"";N(l);const k=Math.min(n.length,5);b.current[k]?.focus()}},ae=async()=>{p.join("")===s?.confirmationPin?await o.confirmCompletion(s.id)&&(v(!1),N(["","","","","",""]),await d()):(y(!0),N(["","","","","",""]),b.current[0]?.focus())},u=a=>a?new Date(a).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",re=a=>a==="completed"||a==="delivered"?e.jsx(x,{className:"h-5 w-5 text-green-500"}):a==="cancelled"?e.jsx(H,{className:"h-5 w-5 text-red-500"}):e.jsx(ke,{className:"h-5 w-5 text-yellow-500"});if(T)return e.jsx(Pe,{});if(!s)return e.jsx("div",{className:"flex-1 bg-background",children:e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(j,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:r("orders.orderNotFound")}),e.jsx("p",{className:"text-muted-foreground",children:r("orders.orderNotFoundDescription")})]})})});const i=B(g??null,s),m=s.deliveryMethod,A=Ne(s.status,m),P=be(A,i,m),w=s.status!=="cancelled"&&s.status!=="completed";return console.log("[DBEUG] OrderDetailsPage Rendered",s),e.jsxs("div",{className:"flex-1 bg-background pb-20",children:[e.jsx("div",{className:"bg-background p-4 sticky top-0 z-10 border-b",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:[r("orders.orderNumber"),": ",s.orderNumber]}),re(s.status)]})}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-muted/50",children:[e.jsx("h2",{className:"font-semibold mb-4",children:r("orders.orderItems")}),e.jsx("div",{className:"space-y-3",children:s.items.map(a=>e.jsxs("div",{className:"flex space-x-3",children:[a.productImageUrl&&e.jsx("div",{className:"w-16 h-16 flex-shrink-0 rounded-lg overflow-hidden bg-muted",children:e.jsx(E,{src:a.productImageUrl,alt:a.productName,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-sm",children:a.productName}),a.productDescription&&e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:a.productDescription}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsxs("span",{className:"text-xs text-muted-foreground",children:[r("orders.quantity"),": ",a.quantity]}),e.jsxs("span",{className:"text-sm font-semibold",children:[s.currency," ",a.subtotal.toFixed(2)]})]})]})]},a.id))}),e.jsx(L,{className:"mt-2 mb-2"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:r("orders.subtotal")}),e.jsxs("span",{children:[s.currency," ",s.totalAmount.toFixed(2)]})]}),s.agentCommissionAmount&&e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[e.jsxs("span",{children:[r("orders.agentCommission")," (",s.agentCommissionRate,"%)"]}),e.jsxs("span",{children:[s.currency," ",s.agentCommissionAmount.toFixed(2)]})]}),e.jsx(L,{}),e.jsxs("div",{className:"flex justify-between font-semibold",children:[e.jsx("span",{children:r("orders.total")}),e.jsxs("span",{children:[s.currency," ",s.totalAmount.toFixed(2)]})]})]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-muted/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h2",{className:"font-semibold",children:r("orders.orderStatus")}),e.jsx(I,{variant:ge(s.status),children:r(U(s.status))})]}),w&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(P.icon,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"text-sm font-medium",children:r(P.label)})]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:r("orders.stepOf",{current:A,total:5})})]}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:r(P.description)}),e.jsx(oe,{currentStep:A,numberOfSteps:5})]}),m!=="personal_handoff"&&s.trackingNumber&&e.jsx("div",{className:"mt-4 p-3 bg-muted/50 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:r("orders.trackingNumber")})]}),e.jsx("span",{className:"text-sm font-mono",children:s.trackingNumber})]})})]}),s.deliveryAddress&&m!=="personal_handoff"&&e.jsxs("div",{className:"p-4 rounded-xl bg-muted/50",children:[e.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[e.jsx(ye,{className:"h-4 w-4 mr-2"}),r("orders.deliveryAddress")]}),e.jsxs("div",{className:"text-sm space-y-1",children:[s.deliveryAddress.street&&e.jsx("p",{children:s.deliveryAddress.street}),s.deliveryAddress.addressLine2&&e.jsx("p",{children:s.deliveryAddress.addressLine2}),e.jsxs("p",{children:[s.deliveryAddress.city,","," ",s.deliveryAddress.state," ",s.deliveryAddress.postalCode]}),e.jsx("p",{children:s.deliveryAddress.country})]}),e.jsxs("div",{className:"mt-3 text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:[r("orders.deliveryMethod"),":"," "]}),e.jsx(I,{variant:"outline",children:s.deliveryMethod})]})]}),i==="client"&&m==="personal_handoff"&&s.status==="ready_for_handoff"&&s.confirmationPin&&e.jsxs("div",{className:"p-6 rounded-xl bg-primary/10 border-2 border-primary",children:[e.jsxs("h2",{className:"font-semibold mb-3 flex items-center text-primary",children:[e.jsx(j,{className:"h-5 w-5 mr-2"}),r("orders.confirmationPin")]}),e.jsxs("div",{className:"bg-background p-4 rounded-lg text-center",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:r("orders.showPinToAgent")}),e.jsx("p",{className:"text-4xl font-bold tracking-wider font-mono text-primary",children:s.confirmationPin})]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-muted/50",children:[e.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[e.jsx(we,{className:"h-4 w-4 mr-2"}),r("orders.paymentInfo")]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:r("orders.paymentStatus")}),e.jsx(I,{variant:s.paymentStatus==="completed"?"default":"secondary",children:r(ve(s.paymentStatus))})]}),s.paymentMethod&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:r("orders.paymentMethod")}),e.jsx("span",{children:r(`paymentMethod.${s.paymentMethod}`)})]}),s.paidAt&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:r("orders.paidAt")}),e.jsx("span",{children:u(s.paidAt)})]})]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-muted/50",children:[e.jsx("h2",{className:"font-semibold mb-4",children:r(i==="client"?"orders.agentInfo":"orders.clientInfo")}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-muted flex items-center justify-center overflow-hidden",children:(i==="client"?s.agent?.avatar:s.client?.avatar)?e.jsx(E,{src:i==="client"?s.agent?.avatar:s.client?.avatar,alt:"User",className:"w-full h-full object-cover"}):e.jsx("span",{className:"text-lg font-semibold",children:(i==="client"?s.agent?.nickname:s.client?.nickname)?.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:i==="client"?s.agent?.nickname:s.client?.nickname}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r(i==="client"?"orders.shoppingAgent":"orders.client")})]}),e.jsxs(c,{variant:"outline",size:"sm",onClick:V,children:[e.jsx(Ae,{className:"h-4 w-4 mr-2"}),r("orders.contact")]})]})]}),s.history&&s.history.length>0&&e.jsxs("div",{className:"p-4 rounded-xl bg-muted/50",children:[e.jsx("h2",{className:"font-semibold mb-4",children:r("orders.orderHistory")}),e.jsx("div",{className:"space-y-3",children:s.history.map((a,n)=>e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"}),n<s.history.length-1&&e.jsx("div",{className:"w-px h-full bg-border"})]}),e.jsxs("div",{className:"flex-1 pb-3",children:[e.jsx("p",{className:"font-medium text-sm",children:r(U(a.status))}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:u(a.createdAt)})]})]},a.id))})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-muted/50",children:[e.jsx("h2",{className:"font-semibold mb-4",children:r("orders.dates")}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:r("orders.created")}),e.jsx("span",{children:u(s.createdAt)})]}),s.deliveryMethod==="personal_handoff"?e.jsx(e.Fragment,{}):s.estimatedDeliveryDate&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:r("orders.estimatedDelivery")}),e.jsx("span",{children:u(s.estimatedDeliveryDate)})]}),s.actualDeliveryDate&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:r("orders.actualDelivery")}),e.jsx("span",{children:u(s.actualDeliveryDate)})]}),s.completedAt&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:r("orders.completedAt")}),e.jsx("span",{children:u(s.completedAt)})]}),s.cancelledAt&&e.jsxs("div",{className:"flex justify-between text-red-500",children:[e.jsx("span",{children:r("orders.cancelledAt")}),e.jsx("span",{children:u(s.cancelledAt)})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[i==="agent"&&w&&e.jsxs(e.Fragment,{children:[s.status==="pending_payment"&&e.jsxs(c,{className:"w-full",onClick:K,children:[e.jsx(x,{className:"h-4 w-4 mr-2"}),r("orders.confirmPayment")]}),s.status==="payment_confirmed"&&e.jsxs(c,{className:"w-full",onClick:G,children:[e.jsx(j,{className:"h-4 w-4 mr-2"}),r("orders.startProcessing")]}),s.status==="processing"&&m==="personal_handoff"&&e.jsxs(c,{className:"w-full",onClick:W,children:[e.jsx(x,{className:"h-4 w-4 mr-2"}),r("orders.markReadyForHandoff")]}),s.status==="processing"&&m!=="personal_handoff"&&e.jsxs(c,{className:"w-full",onClick:X,children:[e.jsx(j,{className:"h-4 w-4 mr-2"}),r("orders.markAsShipped")]}),s.status==="shipped"&&e.jsxs(c,{className:"w-full",onClick:J,children:[e.jsx(j,{className:"h-4 w-4 mr-2"}),r("orders.markInTransit")]}),s.status==="in_transit"&&e.jsxs(c,{className:"w-full",onClick:Q,children:[e.jsx(x,{className:"h-4 w-4 mr-2"}),r("orders.markAsDelivered")]})]}),i==="agent"&&s.status==="ready_for_handoff"&&m==="personal_handoff"&&!F&&e.jsxs(c,{className:"w-full",onClick:Y,children:[e.jsx(x,{className:"h-4 w-4 mr-2"}),r("orders.confirmHandoff")]}),i==="client"&&w&&e.jsxs(e.Fragment,{children:[s.status==="ready_for_handoff"&&e.jsxs(c,{className:"w-full",onClick:O,children:[e.jsx(x,{className:"h-4 w-4 mr-2"}),r("orders.confirmReceipt")]}),s.status==="delivered"&&e.jsxs(c,{className:"w-full",onClick:O,children:[e.jsx(x,{className:"h-4 w-4 mr-2"}),r("orders.confirmReceipt")]})]}),w&&(s.status==="pending_payment"||s.status==="payment_confirmed")&&e.jsxs(c,{variant:"destructive",className:"w-full",onClick:$,children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),r("orders.cancelOrder")]}),s.status==="completed"&&e.jsx(c,{variant:"default",className:"w-full",onClick:()=>M(`/orders/${s.id}/leave-feedback`),children:r("orders.leaveFeedback")})]})]}),e.jsx(me,{open:F,onOpenChange:a=>{v(a),a||(N(["","","","","",""]),y(!1))},children:e.jsxs(xe,{side:"bottom",className:"px-4 pb-8",children:[e.jsx(he,{children:e.jsxs(ue,{className:"flex items-center justify-center text-lg",children:[e.jsx(j,{className:"h-5 w-5 mr-2"}),r("orders.enterConfirmationPin")]})}),e.jsxs("div",{className:"mt-6",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-6 text-center",children:r("orders.enterPinFromClient")}),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"flex space-x-3",children:[0,1,2,3,4,5].map(a=>e.jsx(de,{ref:n=>{b.current[a]=n},type:"text",inputMode:"numeric",value:p[a],onChange:n=>Z(a,n.target.value),onKeyDown:n=>ee(a,n),onPaste:se,className:`w-12 h-12 text-center text-lg font-medium bg-input-background border-input rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all ${q?"border-red-500":""}`,maxLength:1,autoComplete:"off"},a))})}),q&&e.jsx("p",{className:"text-sm text-red-500 text-center mb-4",children:r("orders.incorrectPin")}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(c,{variant:"outline",className:"flex-1 h-12",onClick:()=>{v(!1),N(["","","","","",""]),y(!1)},children:r("common.cancel")}),e.jsxs(c,{className:"flex-1 h-12",onClick:ae,disabled:p.join("").length!==6,children:[e.jsx(x,{className:"h-4 w-4 mr-2"}),r("orders.verifyAndComplete")]})]})]})]})})]})}export{ts as OrderDetailsPage};
