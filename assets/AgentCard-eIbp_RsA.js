import{u as N,a as v,c as b,r as w,j as e,U as y,P as C,B as A}from"./index-CvO9pKPC.js";import{c as S}from"./chatSupabaseService-C5-xj_cv.js";import"./wishlistStore-CfNM5_Pj.js";import{A as B}from"./avatar-BW8CM_Dc.js";import{B as D}from"./badge-CXoDSUIB.js";import{C as k}from"./circle-check-big-Dh9XEviq.js";import{S as E}from"./star-B1prMbWQ.js";import{M as R}from"./map-pin-BzPRdFpW.js";import{C as L}from"./clock-BGCf1Cg4.js";const o=[{id:1,label:"Top Agent"},{id:2,label:"Verified"},{id:3,label:"New"}],m=[4.5,4.7,4.9,5],x=[50,120,200,300],u=[100,250,400,600],h=["沙田, 新界, 香港","旺角, 九龍, 香港","中環, 港島, 香港","銅鑼灣, 港島, 香港"],f=["Electronics","Fashion","Home Appliances","Books"],p=["1h","2h","30m","45m"],V=({index:s=0,loading:g=!1,item:r})=>{const{t:l}=N(),i=v(),{user:c}=b(),[d,a]=w.useState(!1),j=async n=>{if(a(!0),!c){if(!c){i("/auth/signin"),a(!1);return}a(!1);return}if(c.id===n.id){a(!1);return}try{const t=await S.getOrCreateConversation({participant_user_id:n.id});t?i(`/messages/chat/${t.id}`):(console.error("Failed to create conversation"),a(!1))}catch(t){console.error("Error contacting client:",t),a(!1)}};return g?e.jsxs("div",{className:"flex flex-col space-y-4 p-4 rounded-xl bg-muted/50",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-muted-foreground/50 animate-pulse"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted-foreground/50 rounded animate-pulse"}),e.jsx("div",{className:"h-3 bg-muted-foreground/30 rounded animate-pulse w-1/2"})]})]}),e.jsx("div",{className:"h-4 bg-muted-foreground/50 rounded animate-pulse w-3/4"}),e.jsx("div",{className:"h-4 bg-muted-foreground/50 rounded animate-pulse w-1/2"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("div",{className:"h-8 bg-muted-foreground/50 rounded animate-pulse flex-1"}),e.jsx("div",{className:"h-8 bg-muted-foreground/50 rounded animate-pulse flex-1"})]})]}):e.jsxs("div",{className:"p-4 rounded-xl bg-muted/50",children:[e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(B,{className:"w-12 h-12",children:e.jsx("div",{className:"w-full h-full bg-primary/10 flex items-center justify-center",children:e.jsx(y,{className:"h-6 w-6 text-primary"})})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx(k,{className:"h-3 w-3 text-white"})})]}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:r?.name}),o.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:o.slice(0,2).map((n,t)=>e.jsx(D,{variant:"outline",className:"text-xs px-1.5 py-0.5",children:n.label},t))})]}),e.jsxs("div",{className:"flex items-center space-x-1 text-xs",children:[e.jsx(E,{className:"h-3 w-3 text-yellow-500 fill-current"}),e.jsx("span",{children:m[s%m.length]}),e.jsxs("span",{className:"text-muted-foreground",children:["(",x[s%x.length],")"]})]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsx("div",{children:f[s%f.length]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(R,{className:"h-3 w-3"}),e.jsx("span",{children:h[s%h.length]})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-xs",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(C,{className:"h-3 w-3"}),e.jsxs("span",{children:[u[s%u.length]," ",l("common.orders")]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(L,{className:"h-3 w-3"}),e.jsx("span",{children:p[s%p.length]})]})]})]}),r?.languages&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.jsxs("span",{className:"font-medium",children:[l("common.languages"),":"]})," ",r.languages.join(", ")]})]})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:e.jsx(A,{className:"w-full rounded-lg",size:"sm",onClick:()=>r&&j(r),disabled:d,children:l(d?"common.loading":"agents.contact")})})]})};export{V as A};
