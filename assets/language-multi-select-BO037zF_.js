import{u as xe,j as i,r as o,v as X,i as V,x as Q,y as bt,B as xt}from"./index-CvO9pKPC.js";import{C as Rt}from"./countries-BdmsY0m-.js";import{S as yt,a as Ct,b as wt,c as Et,d as It,C as Pt}from"./select-Bn-NFenP.js";import{L as kt}from"./label-Cqb5pUVi.js";import{c as N,u as Re}from"./index-CosQv8v_.js";import{c as se}from"./index-B46UinAq.js";import{P as S}from"./index-BUvxBgzt.js";import{c as St,u as _e,a as Oe,R as At,A as De,C as jt,b as Nt}from"./index-vsMTD7gr.js";import{u as M,P as Ft,h as _t,R as Ot,a as Dt,F as Tt,D as Mt}from"./Combination-DwCW9mbS.js";import{u as Gt}from"./index-BS1Kyr__.js";import{u as Lt,a as $t}from"./index-wsE_5AEc.js";import{P as ye}from"./index-BdAoUvTi.js";import{B as Kt}from"./badge-CXoDSUIB.js";import{R as Bt,P as Ut,O as zt,C as Vt}from"./index-tYtXYGJ5.js";import"./dialog-DWMkWXSP.js";import{S as qt}from"./search-B_nDvCvE.js";import{X as Ht}from"./x-wt5hBkWR.js";import{C as Yt}from"./check-BygKOcWJ.js";function Fo({value:e,onValueChange:r,placeholder:t="Select a country",className:l,disabled:n}){const{t:a}=xe();return i.jsxs(yt,{value:e,onValueChange:r,disabled:n,children:[i.jsx(Ct,{className:l,children:i.jsx(wt,{placeholder:t})}),i.jsx(Et,{children:Rt.map(u=>i.jsx(It,{value:u.id,children:a(u.translationKey)},u.id))})]})}var pe="rovingFocusGroup.onEntryFocus",Wt={bubbles:!1,cancelable:!0},ee="RovingFocusGroup",[he,Te,Xt]=St(ee),[Jt,Me]=se(ee,[Xt]),[Zt,Qt]=Jt(ee),Ge=o.forwardRef((e,r)=>i.jsx(he.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(he.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(er,{...e,ref:r})})}));Ge.displayName=ee;var er=o.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:t,orientation:l,loop:n=!1,dir:a,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:m,onEntryFocus:c,preventScrollOnEntryFocus:p=!1,...h}=e,x=o.useRef(null),f=X(r,x),b=_e(a),[w,R]=Re({prop:u,defaultProp:d??null,onChange:m,caller:ee}),[F,$]=o.useState(!1),j=Gt(c),O=Te(t),D=o.useRef(!1),[I,P]=o.useState(0);return o.useEffect(()=>{const k=x.current;if(k)return k.addEventListener(pe,j),()=>k.removeEventListener(pe,j)},[j]),i.jsx(Zt,{scope:t,orientation:l,dir:b,loop:n,currentTabStopId:w,onItemFocus:o.useCallback(k=>R(k),[R]),onItemShiftTab:o.useCallback(()=>$(!0),[]),onFocusableItemAdd:o.useCallback(()=>P(k=>k+1),[]),onFocusableItemRemove:o.useCallback(()=>P(k=>k-1),[]),children:i.jsx(S.div,{tabIndex:F||I===0?-1:0,"data-orientation":l,...h,ref:f,style:{outline:"none",...e.style},onMouseDown:N(e.onMouseDown,()=>{D.current=!0}),onFocus:N(e.onFocus,k=>{const ne=!D.current;if(k.target===k.currentTarget&&ne&&!F){const q=new CustomEvent(pe,Wt);if(k.currentTarget.dispatchEvent(q),!q.defaultPrevented){const K=O().filter(T=>T.focusable),J=K.find(T=>T.active),ae=K.find(T=>T.id===w),U=[J,ae,...K].filter(Boolean).map(T=>T.ref.current);Ke(U,p)}}D.current=!1}),onBlur:N(e.onBlur,()=>$(!1))})})}),Le="RovingFocusGroupItem",$e=o.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:t,focusable:l=!0,active:n=!1,tabStopId:a,children:u,...d}=e,m=M(),c=a||m,p=Qt(Le,t),h=p.currentTabStopId===c,x=Te(t),{onFocusableItemAdd:f,onFocusableItemRemove:b,currentTabStopId:w}=p;return o.useEffect(()=>{if(l)return f(),()=>b()},[l,f,b]),i.jsx(he.ItemSlot,{scope:t,id:c,focusable:l,active:n,children:i.jsx(S.span,{tabIndex:h?0:-1,"data-orientation":p.orientation,...d,ref:r,onMouseDown:N(e.onMouseDown,R=>{l?p.onItemFocus(c):R.preventDefault()}),onFocus:N(e.onFocus,()=>p.onItemFocus(c)),onKeyDown:N(e.onKeyDown,R=>{if(R.key==="Tab"&&R.shiftKey){p.onItemShiftTab();return}if(R.target!==R.currentTarget)return;const F=or(R,p.orientation,p.dir);if(F!==void 0){if(R.metaKey||R.ctrlKey||R.altKey||R.shiftKey)return;R.preventDefault();let j=x().filter(O=>O.focusable).map(O=>O.ref.current);if(F==="last")j.reverse();else if(F==="prev"||F==="next"){F==="prev"&&j.reverse();const O=j.indexOf(R.currentTarget);j=p.loop?nr(j,O+1):j.slice(O+1)}setTimeout(()=>Ke(j))}}),children:typeof u=="function"?u({isCurrentTabStop:h,hasTabStop:w!=null}):u})})});$e.displayName=Le;var tr={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function rr(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function or(e,r,t){const l=rr(e.key,t);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(l))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(l)))return tr[l]}function Ke(e,r=!1){const t=document.activeElement;for(const l of e)if(l===t||(l.focus({preventScroll:r}),document.activeElement!==t))return}function nr(e,r){return e.map((t,l)=>e[(r+l)%e.length])}var ar=Ge,lr=$e,Ce="Radio",[sr,Be]=se(Ce),[ur,ir]=sr(Ce),Ue=o.forwardRef((e,r)=>{const{__scopeRadio:t,name:l,checked:n=!1,required:a,disabled:u,value:d="on",onCheck:m,form:c,...p}=e,[h,x]=o.useState(null),f=X(r,R=>x(R)),b=o.useRef(!1),w=h?c||!!h.closest("form"):!0;return i.jsxs(ur,{scope:t,checked:n,disabled:u,children:[i.jsx(S.button,{type:"button",role:"radio","aria-checked":n,"data-state":He(n),"data-disabled":u?"":void 0,disabled:u,value:d,...p,ref:f,onClick:N(e.onClick,R=>{n||m?.(),w&&(b.current=R.isPropagationStopped(),b.current||R.stopPropagation())})}),w&&i.jsx(qe,{control:h,bubbles:!b.current,name:l,value:d,checked:n,required:a,disabled:u,form:c,style:{transform:"translateX(-100%)"}})]})});Ue.displayName=Ce;var ze="RadioIndicator",Ve=o.forwardRef((e,r)=>{const{__scopeRadio:t,forceMount:l,...n}=e,a=ir(ze,t);return i.jsx(ye,{present:l||a.checked,children:i.jsx(S.span,{"data-state":He(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:r})})});Ve.displayName=ze;var cr="RadioBubbleInput",qe=o.forwardRef(({__scopeRadio:e,control:r,checked:t,bubbles:l=!0,...n},a)=>{const u=o.useRef(null),d=X(u,a),m=Lt(t),c=$t(r);return o.useEffect(()=>{const p=u.current;if(!p)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(m!==t&&f){const b=new Event("click",{bubbles:l});f.call(p,t),p.dispatchEvent(b)}},[m,t,l]),i.jsx(S.input,{type:"radio","aria-hidden":!0,defaultChecked:t,...n,tabIndex:-1,ref:d,style:{...n.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});qe.displayName=cr;function He(e){return e?"checked":"unchecked"}var dr=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ue="RadioGroup",[pr]=se(ue,[Me,Be]),Ye=Me(),We=Be(),[fr,vr]=pr(ue),Xe=o.forwardRef((e,r)=>{const{__scopeRadioGroup:t,name:l,defaultValue:n,value:a,required:u=!1,disabled:d=!1,orientation:m,dir:c,loop:p=!0,onValueChange:h,...x}=e,f=Ye(t),b=_e(c),[w,R]=Re({prop:a,defaultProp:n??null,onChange:h,caller:ue});return i.jsx(fr,{scope:t,name:l,required:u,disabled:d,value:w,onValueChange:R,children:i.jsx(ar,{asChild:!0,...f,orientation:m,dir:b,loop:p,children:i.jsx(S.div,{role:"radiogroup","aria-required":u,"aria-orientation":m,"data-disabled":d?"":void 0,dir:b,...x,ref:r})})})});Xe.displayName=ue;var Je="RadioGroupItem",Ze=o.forwardRef((e,r)=>{const{__scopeRadioGroup:t,disabled:l,...n}=e,a=vr(Je,t),u=a.disabled||l,d=Ye(t),m=We(t),c=o.useRef(null),p=X(r,c),h=a.value===n.value,x=o.useRef(!1);return o.useEffect(()=>{const f=w=>{dr.includes(w.key)&&(x.current=!0)},b=()=>x.current=!1;return document.addEventListener("keydown",f),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",b)}},[]),i.jsx(lr,{asChild:!0,...d,focusable:!u,active:h,children:i.jsx(Ue,{disabled:u,required:a.required,checked:h,...m,...n,name:a.name,ref:p,onCheck:()=>a.onValueChange(n.value),onKeyDown:N(f=>{f.key==="Enter"&&f.preventDefault()}),onFocus:N(n.onFocus,()=>{x.current&&c.current?.click()})})})});Ze.displayName=Je;var mr="RadioGroupIndicator",Qe=o.forwardRef((e,r)=>{const{__scopeRadioGroup:t,...l}=e,n=We(t);return i.jsx(Ve,{...n,...l,ref:r})});Qe.displayName=mr;var hr=Xe,gr=Ze,br=Qe;function xr({className:e,...r}){return i.jsx(hr,{"data-slot":"radio-group",className:V("grid gap-3",e),...r})}function Rr({className:e,...r}){return i.jsx(gr,{"data-slot":"radio-group-item",className:V("aspect-square h-5 w-5 rounded-full border-2 border-gray-300 bg-white transition-colors hover:border-gray-400 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:border-primary data-[state=checked]:bg-primary",e),...r,children:i.jsx(br,{"data-slot":"radio-group-indicator",className:"flex items-center justify-center",children:i.jsx("div",{className:"h-2 w-2 rounded-full bg-white"})})})}function _o({value:e,onValueChange:r,variant:t="default",className:l=""}){const{t:n}=xe(),a=[{value:"male",labelKey:"auth.male"},{value:"female",labelKey:"auth.female"},{value:"other",labelKey:"auth.other"},{value:"prefer-not-to-say",labelKey:"auth.preferNotToSay"}],u=t==="compact"?"flex space-x-6":"grid grid-cols-2 gap-3",d=t==="compact"?"":"text-sm font-normal cursor-pointer";return i.jsx(xr,{value:e,onValueChange:r,className:`${u} ${l}`,children:a.map(m=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Rr,{value:m.value,id:m.value}),i.jsx(kt,{htmlFor:m.value,className:d,children:n(m.labelKey)})]},m.value))})}var Ae=1,yr=.9,Cr=.8,wr=.17,fe=.1,ve=.999,Er=.9999,Ir=.99,Pr=/[\\\/_+.#"@\[\(\{&]/,kr=/[\\\/_+.#"@\[\(\{&]/g,Sr=/[\s-]/,et=/[\s-]/g;function ge(e,r,t,l,n,a,u){if(a===r.length)return n===e.length?Ae:Ir;var d=`${n},${a}`;if(u[d]!==void 0)return u[d];for(var m=l.charAt(a),c=t.indexOf(m,n),p=0,h,x,f,b;c>=0;)h=ge(e,r,t,l,c+1,a+1,u),h>p&&(c===n?h*=Ae:Pr.test(e.charAt(c-1))?(h*=Cr,f=e.slice(n,c-1).match(kr),f&&n>0&&(h*=Math.pow(ve,f.length))):Sr.test(e.charAt(c-1))?(h*=yr,b=e.slice(n,c-1).match(et),b&&n>0&&(h*=Math.pow(ve,b.length))):(h*=wr,n>0&&(h*=Math.pow(ve,c-n))),e.charAt(c)!==r.charAt(a)&&(h*=Er)),(h<fe&&t.charAt(c-1)===l.charAt(a+1)||l.charAt(a+1)===l.charAt(a)&&t.charAt(c-1)!==l.charAt(a))&&(x=ge(e,r,t,l,c+1,a+2,u),x*fe>h&&(h=x*fe)),h>p&&(p=h),c=t.indexOf(m,c+1);return u[d]=p,p}function je(e){return e.toLowerCase().replace(et," ")}function Ar(e,r,t){return e=t&&t.length>0?`${e+" "+t.join(" ")}`:e,ge(e,r,je(e),je(r),0,0,{})}var Z='[cmdk-group=""]',me='[cmdk-group-items=""]',jr='[cmdk-group-heading=""]',tt='[cmdk-item=""]',Ne=`${tt}:not([aria-disabled="true"])`,be="cmdk-item-select",H="data-value",Nr=(e,r,t)=>Ar(e,r,t),rt=o.createContext(void 0),te=()=>o.useContext(rt),ot=o.createContext(void 0),we=()=>o.useContext(ot),nt=o.createContext(void 0),at=o.forwardRef((e,r)=>{let t=Y(()=>{var s,g;return{search:"",value:(g=(s=e.value)!=null?s:e.defaultValue)!=null?g:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),l=Y(()=>new Set),n=Y(()=>new Map),a=Y(()=>new Map),u=Y(()=>new Set),d=lt(e),{label:m,children:c,value:p,onValueChange:h,filter:x,shouldFilter:f,loop:b,disablePointerSelection:w=!1,vimBindings:R=!0,...F}=e,$=M(),j=M(),O=M(),D=o.useRef(null),I=Br();z(()=>{if(p!==void 0){let s=p.trim();t.current.value=s,P.emit()}},[p]),z(()=>{I(6,ae)},[]);let P=o.useMemo(()=>({subscribe:s=>(u.current.add(s),()=>u.current.delete(s)),snapshot:()=>t.current,setState:(s,g,y)=>{var v,C,E,_;if(!Object.is(t.current[s],g)){if(t.current[s]=g,s==="search")J(),q(),I(1,K);else if(s==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let A=document.getElementById(O);A?A.focus():(v=document.getElementById($))==null||v.focus()}if(I(7,()=>{var A;t.current.selectedItemId=(A=B())==null?void 0:A.id,P.emit()}),y||I(5,ae),((C=d.current)==null?void 0:C.value)!==void 0){let A=g??"";(_=(E=d.current).onValueChange)==null||_.call(E,A);return}}P.emit()}},emit:()=>{u.current.forEach(s=>s())}}),[]),k=o.useMemo(()=>({value:(s,g,y)=>{var v;g!==((v=a.current.get(s))==null?void 0:v.value)&&(a.current.set(s,{value:g,keywords:y}),t.current.filtered.items.set(s,ne(g,y)),I(2,()=>{q(),P.emit()}))},item:(s,g)=>(l.current.add(s),g&&(n.current.has(g)?n.current.get(g).add(s):n.current.set(g,new Set([s]))),I(3,()=>{J(),q(),t.current.value||K(),P.emit()}),()=>{a.current.delete(s),l.current.delete(s),t.current.filtered.items.delete(s);let y=B();I(4,()=>{J(),y?.getAttribute("id")===s&&K(),P.emit()})}),group:s=>(n.current.has(s)||n.current.set(s,new Set),()=>{a.current.delete(s),n.current.delete(s)}),filter:()=>d.current.shouldFilter,label:m||e["aria-label"],getDisablePointerSelection:()=>d.current.disablePointerSelection,listId:$,inputId:O,labelId:j,listInnerRef:D}),[]);function ne(s,g){var y,v;let C=(v=(y=d.current)==null?void 0:y.filter)!=null?v:Nr;return s?C(s,t.current.search,g):0}function q(){if(!t.current.search||d.current.shouldFilter===!1)return;let s=t.current.filtered.items,g=[];t.current.filtered.groups.forEach(v=>{let C=n.current.get(v),E=0;C.forEach(_=>{let A=s.get(_);E=Math.max(A,E)}),g.push([v,E])});let y=D.current;U().sort((v,C)=>{var E,_;let A=v.getAttribute("id"),le=C.getAttribute("id");return((E=s.get(le))!=null?E:0)-((_=s.get(A))!=null?_:0)}).forEach(v=>{let C=v.closest(me);C?C.appendChild(v.parentElement===C?v:v.closest(`${me} > *`)):y.appendChild(v.parentElement===y?v:v.closest(`${me} > *`))}),g.sort((v,C)=>C[1]-v[1]).forEach(v=>{var C;let E=(C=D.current)==null?void 0:C.querySelector(`${Z}[${H}="${encodeURIComponent(v[0])}"]`);E?.parentElement.appendChild(E)})}function K(){let s=U().find(y=>y.getAttribute("aria-disabled")!=="true"),g=s?.getAttribute(H);P.setState("value",g||void 0)}function J(){var s,g,y,v;if(!t.current.search||d.current.shouldFilter===!1){t.current.filtered.count=l.current.size;return}t.current.filtered.groups=new Set;let C=0;for(let E of l.current){let _=(g=(s=a.current.get(E))==null?void 0:s.value)!=null?g:"",A=(v=(y=a.current.get(E))==null?void 0:y.keywords)!=null?v:[],le=ne(_,A);t.current.filtered.items.set(E,le),le>0&&C++}for(let[E,_]of n.current)for(let A of _)if(t.current.filtered.items.get(A)>0){t.current.filtered.groups.add(E);break}t.current.filtered.count=C}function ae(){var s,g,y;let v=B();v&&(((s=v.parentElement)==null?void 0:s.firstChild)===v&&((y=(g=v.closest(Z))==null?void 0:g.querySelector(jr))==null||y.scrollIntoView({block:"nearest"})),v.scrollIntoView({block:"nearest"}))}function B(){var s;return(s=D.current)==null?void 0:s.querySelector(`${tt}[aria-selected="true"]`)}function U(){var s;return Array.from(((s=D.current)==null?void 0:s.querySelectorAll(Ne))||[])}function T(s){let g=U()[s];g&&P.setState("value",g.getAttribute(H))}function de(s){var g;let y=B(),v=U(),C=v.findIndex(_=>_===y),E=v[C+s];(g=d.current)!=null&&g.loop&&(E=C+s<0?v[v.length-1]:C+s===v.length?v[0]:v[C+s]),E&&P.setState("value",E.getAttribute(H))}function Ie(s){let g=B(),y=g?.closest(Z),v;for(;y&&!v;)y=s>0?$r(y,Z):Kr(y,Z),v=y?.querySelector(Ne);v?P.setState("value",v.getAttribute(H)):de(s)}let Pe=()=>T(U().length-1),ke=s=>{s.preventDefault(),s.metaKey?Pe():s.altKey?Ie(1):de(1)},Se=s=>{s.preventDefault(),s.metaKey?T(0):s.altKey?Ie(-1):de(-1)};return o.createElement(S.div,{ref:r,tabIndex:-1,...F,"cmdk-root":"",onKeyDown:s=>{var g;(g=F.onKeyDown)==null||g.call(F,s);let y=s.nativeEvent.isComposing||s.keyCode===229;if(!(s.defaultPrevented||y))switch(s.key){case"n":case"j":{R&&s.ctrlKey&&ke(s);break}case"ArrowDown":{ke(s);break}case"p":case"k":{R&&s.ctrlKey&&Se(s);break}case"ArrowUp":{Se(s);break}case"Home":{s.preventDefault(),T(0);break}case"End":{s.preventDefault(),Pe();break}case"Enter":{s.preventDefault();let v=B();if(v){let C=new Event(be);v.dispatchEvent(C)}}}}},o.createElement("label",{"cmdk-label":"",htmlFor:k.inputId,id:k.labelId,style:zr},m),ie(e,s=>o.createElement(ot.Provider,{value:P},o.createElement(rt.Provider,{value:k},s))))}),Fr=o.forwardRef((e,r)=>{var t,l;let n=M(),a=o.useRef(null),u=o.useContext(nt),d=te(),m=lt(e),c=(l=(t=m.current)==null?void 0:t.forceMount)!=null?l:u?.forceMount;z(()=>{if(!c)return d.item(n,u?.id)},[c]);let p=st(n,a,[e.value,e.children,a],e.keywords),h=we(),x=G(I=>I.value&&I.value===p.current),f=G(I=>c||d.filter()===!1?!0:I.search?I.filtered.items.get(n)>0:!0);o.useEffect(()=>{let I=a.current;if(!(!I||e.disabled))return I.addEventListener(be,b),()=>I.removeEventListener(be,b)},[f,e.onSelect,e.disabled]);function b(){var I,P;w(),(P=(I=m.current).onSelect)==null||P.call(I,p.current)}function w(){h.setState("value",p.current,!0)}if(!f)return null;let{disabled:R,value:F,onSelect:$,forceMount:j,keywords:O,...D}=e;return o.createElement(S.div,{ref:Q(a,r),...D,id:n,"cmdk-item":"",role:"option","aria-disabled":!!R,"aria-selected":!!x,"data-disabled":!!R,"data-selected":!!x,onPointerMove:R||d.getDisablePointerSelection()?void 0:w,onClick:R?void 0:b},e.children)}),_r=o.forwardRef((e,r)=>{let{heading:t,children:l,forceMount:n,...a}=e,u=M(),d=o.useRef(null),m=o.useRef(null),c=M(),p=te(),h=G(f=>n||p.filter()===!1?!0:f.search?f.filtered.groups.has(u):!0);z(()=>p.group(u),[]),st(u,d,[e.value,e.heading,m]);let x=o.useMemo(()=>({id:u,forceMount:n}),[n]);return o.createElement(S.div,{ref:Q(d,r),...a,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},t&&o.createElement("div",{ref:m,"cmdk-group-heading":"","aria-hidden":!0,id:c},t),ie(e,f=>o.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?c:void 0},o.createElement(nt.Provider,{value:x},f))))}),Or=o.forwardRef((e,r)=>{let{alwaysRender:t,...l}=e,n=o.useRef(null),a=G(u=>!u.search);return!t&&!a?null:o.createElement(S.div,{ref:Q(n,r),...l,"cmdk-separator":"",role:"separator"})}),Dr=o.forwardRef((e,r)=>{let{onValueChange:t,...l}=e,n=e.value!=null,a=we(),u=G(c=>c.search),d=G(c=>c.selectedItemId),m=te();return o.useEffect(()=>{e.value!=null&&a.setState("search",e.value)},[e.value]),o.createElement(S.input,{ref:r,...l,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":m.listId,"aria-labelledby":m.labelId,"aria-activedescendant":d,id:m.inputId,type:"text",value:n?e.value:u,onChange:c=>{n||a.setState("search",c.target.value),t?.(c.target.value)}})}),Tr=o.forwardRef((e,r)=>{let{children:t,label:l="Suggestions",...n}=e,a=o.useRef(null),u=o.useRef(null),d=G(c=>c.selectedItemId),m=te();return o.useEffect(()=>{if(u.current&&a.current){let c=u.current,p=a.current,h,x=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let f=c.offsetHeight;p.style.setProperty("--cmdk-list-height",f.toFixed(1)+"px")})});return x.observe(c),()=>{cancelAnimationFrame(h),x.unobserve(c)}}},[]),o.createElement(S.div,{ref:Q(a,r),...n,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":d,"aria-label":l,id:m.listId},ie(e,c=>o.createElement("div",{ref:Q(u,m.listInnerRef),"cmdk-list-sizer":""},c)))}),Mr=o.forwardRef((e,r)=>{let{open:t,onOpenChange:l,overlayClassName:n,contentClassName:a,container:u,...d}=e;return o.createElement(Bt,{open:t,onOpenChange:l},o.createElement(Ut,{container:u},o.createElement(zt,{"cmdk-overlay":"",className:n}),o.createElement(Vt,{"aria-label":e.label,"cmdk-dialog":"",className:a},o.createElement(at,{ref:r,...d}))))}),Gr=o.forwardRef((e,r)=>G(t=>t.filtered.count===0)?o.createElement(S.div,{ref:r,...e,"cmdk-empty":"",role:"presentation"}):null),Lr=o.forwardRef((e,r)=>{let{progress:t,children:l,label:n="Loading...",...a}=e;return o.createElement(S.div,{ref:r,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":n},ie(e,u=>o.createElement("div",{"aria-hidden":!0},u)))}),re=Object.assign(at,{List:Tr,Item:Fr,Input:Dr,Group:_r,Separator:Or,Dialog:Mr,Empty:Gr,Loading:Lr});function $r(e,r){let t=e.nextElementSibling;for(;t;){if(t.matches(r))return t;t=t.nextElementSibling}}function Kr(e,r){let t=e.previousElementSibling;for(;t;){if(t.matches(r))return t;t=t.previousElementSibling}}function lt(e){let r=o.useRef(e);return z(()=>{r.current=e}),r}var z=typeof window>"u"?o.useEffect:o.useLayoutEffect;function Y(e){let r=o.useRef();return r.current===void 0&&(r.current=e()),r}function G(e){let r=we(),t=()=>e(r.snapshot());return o.useSyncExternalStore(r.subscribe,t,t)}function st(e,r,t,l=[]){let n=o.useRef(),a=te();return z(()=>{var u;let d=(()=>{var c;for(let p of t){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(c=p.current.textContent)==null?void 0:c.trim():n.current}})(),m=l.map(c=>c.trim());a.value(e,d,m),(u=r.current)==null||u.setAttribute(H,d),n.current=d}),n}var Br=()=>{let[e,r]=o.useState(),t=Y(()=>new Map);return z(()=>{t.current.forEach(l=>l()),t.current=new Map},[e]),(l,n)=>{t.current.set(l,n),r({})}};function Ur(e){let r=e.type;return typeof r=="function"?r(e.props):"render"in r?r.render(e.props):e}function ie({asChild:e,children:r},t){return e&&o.isValidElement(r)?o.cloneElement(Ur(r),{ref:r.ref},t(r.props.children)):t(r)}var zr={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function Vr({className:e,...r}){return i.jsx(re,{"data-slot":"command",className:V("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...r})}function qr({className:e,...r}){return i.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[i.jsx(qt,{className:"size-4 shrink-0 opacity-50"}),i.jsx(re.Input,{"data-slot":"command-input",className:V("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...r})]})}function Hr({...e}){return i.jsx(re.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function Yr({className:e,...r}){return i.jsx(re.Group,{"data-slot":"command-group",className:V("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...r})}function Wr({className:e,...r}){return i.jsx(re.Item,{"data-slot":"command-item",className:V("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}var ce="Popover",[ut]=se(ce,[Oe]),oe=Oe(),[Xr,L]=ut(ce),it=e=>{const{__scopePopover:r,children:t,open:l,defaultOpen:n,onOpenChange:a,modal:u=!1}=e,d=oe(r),m=o.useRef(null),[c,p]=o.useState(!1),[h,x]=Re({prop:l,defaultProp:n??!1,onChange:a,caller:ce});return i.jsx(At,{...d,children:i.jsx(Xr,{scope:r,contentId:M(),triggerRef:m,open:h,onOpenChange:x,onOpenToggle:o.useCallback(()=>x(f=>!f),[x]),hasCustomAnchor:c,onCustomAnchorAdd:o.useCallback(()=>p(!0),[]),onCustomAnchorRemove:o.useCallback(()=>p(!1),[]),modal:u,children:t})})};it.displayName=ce;var ct="PopoverAnchor",Jr=o.forwardRef((e,r)=>{const{__scopePopover:t,...l}=e,n=L(ct,t),a=oe(t),{onCustomAnchorAdd:u,onCustomAnchorRemove:d}=n;return o.useEffect(()=>(u(),()=>d()),[u,d]),i.jsx(De,{...a,...l,ref:r})});Jr.displayName=ct;var dt="PopoverTrigger",pt=o.forwardRef((e,r)=>{const{__scopePopover:t,...l}=e,n=L(dt,t),a=oe(t),u=X(r,n.triggerRef),d=i.jsx(S.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":gt(n.open),...l,ref:u,onClick:N(e.onClick,n.onOpenToggle)});return n.hasCustomAnchor?d:i.jsx(De,{asChild:!0,...a,children:d})});pt.displayName=dt;var Ee="PopoverPortal",[Zr,Qr]=ut(Ee,{forceMount:void 0}),ft=e=>{const{__scopePopover:r,forceMount:t,children:l,container:n}=e,a=L(Ee,r);return i.jsx(Zr,{scope:r,forceMount:t,children:i.jsx(ye,{present:t||a.open,children:i.jsx(Ft,{asChild:!0,container:n,children:l})})})};ft.displayName=Ee;var W="PopoverContent",vt=o.forwardRef((e,r)=>{const t=Qr(W,e.__scopePopover),{forceMount:l=t.forceMount,...n}=e,a=L(W,e.__scopePopover);return i.jsx(ye,{present:l||a.open,children:a.modal?i.jsx(to,{...n,ref:r}):i.jsx(ro,{...n,ref:r})})});vt.displayName=W;var eo=bt("PopoverContent.RemoveScroll"),to=o.forwardRef((e,r)=>{const t=L(W,e.__scopePopover),l=o.useRef(null),n=X(r,l),a=o.useRef(!1);return o.useEffect(()=>{const u=l.current;if(u)return _t(u)},[]),i.jsx(Ot,{as:eo,allowPinchZoom:!0,children:i.jsx(mt,{...e,ref:n,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:N(e.onCloseAutoFocus,u=>{u.preventDefault(),a.current||t.triggerRef.current?.focus()}),onPointerDownOutside:N(e.onPointerDownOutside,u=>{const d=u.detail.originalEvent,m=d.button===0&&d.ctrlKey===!0,c=d.button===2||m;a.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:N(e.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1})})})}),ro=o.forwardRef((e,r)=>{const t=L(W,e.__scopePopover),l=o.useRef(!1),n=o.useRef(!1);return i.jsx(mt,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(l.current||t.triggerRef.current?.focus(),a.preventDefault()),l.current=!1,n.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(l.current=!0,a.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const u=a.target;t.triggerRef.current?.contains(u)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&n.current&&a.preventDefault()}})}),mt=o.forwardRef((e,r)=>{const{__scopePopover:t,trapFocus:l,onOpenAutoFocus:n,onCloseAutoFocus:a,disableOutsidePointerEvents:u,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:c,onInteractOutside:p,...h}=e,x=L(W,t),f=oe(t);return Dt(),i.jsx(Tt,{asChild:!0,loop:!0,trapped:l,onMountAutoFocus:n,onUnmountAutoFocus:a,children:i.jsx(Mt,{asChild:!0,disableOutsidePointerEvents:u,onInteractOutside:p,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:c,onDismiss:()=>x.onOpenChange(!1),children:i.jsx(jt,{"data-state":gt(x.open),role:"dialog",id:x.contentId,...f,...h,ref:r,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ht="PopoverClose",oo=o.forwardRef((e,r)=>{const{__scopePopover:t,...l}=e,n=L(ht,t);return i.jsx(S.button,{type:"button",...l,ref:r,onClick:N(e.onClick,()=>n.onOpenChange(!1))})});oo.displayName=ht;var no="PopoverArrow",ao=o.forwardRef((e,r)=>{const{__scopePopover:t,...l}=e,n=oe(t);return i.jsx(Nt,{...n,...l,ref:r})});ao.displayName=no;function gt(e){return e?"open":"closed"}var lo=it,so=pt,uo=ft,io=vt;function co({...e}){return i.jsx(lo,{"data-slot":"popover",...e})}function po({...e}){return i.jsx(so,{"data-slot":"popover-trigger",...e})}function fo({className:e,align:r="center",sideOffset:t=4,...l}){return i.jsx(uo,{children:i.jsx(io,{"data-slot":"popover-content",align:r,sideOffset:t,className:V("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...l})})}const Fe=[{value:"en",label:"English"},{value:"zh-cn",label:"中文 (简体)"},{value:"zh-tw",label:"中文 (繁體)"},{value:"ja",label:"日本語"},{value:"ko",label:"한국어"},{value:"es",label:"Español"},{value:"fr",label:"Français"},{value:"de",label:"Deutsch"},{value:"it",label:"Italiano"},{value:"pt",label:"Português"},{value:"ru",label:"Русский"},{value:"ar",label:"العربية"},{value:"hi",label:"हिन्दी"},{value:"th",label:"ไทย"},{value:"vi",label:"Tiếng Việt"},{value:"id",label:"Bahasa Indonesia"},{value:"ms",label:"Bahasa Melayu"},{value:"tl",label:"Filipino"},{value:"nl",label:"Nederlands"},{value:"sv",label:"Svenska"},{value:"no",label:"Norsk"},{value:"da",label:"Dansk"},{value:"fi",label:"Suomi"},{value:"pl",label:"Polski"},{value:"cs",label:"Čeština"},{value:"hu",label:"Magyar"},{value:"ro",label:"Română"},{value:"bg",label:"Български"},{value:"hr",label:"Hrvatski"},{value:"sr",label:"Српски"},{value:"sk",label:"Slovenčina"},{value:"sl",label:"Slovenščina"},{value:"et",label:"Eesti"},{value:"lv",label:"Latviešu"},{value:"lt",label:"Lietuvių"},{value:"tr",label:"Türkçe"},{value:"he",label:"עברית"},{value:"fa",label:"فارسی"},{value:"ur",label:"اردو"},{value:"bn",label:"বাংলা"},{value:"ta",label:"தமிழ்"},{value:"te",label:"తెలుగు"},{value:"ml",label:"മലയാളം"},{value:"kn",label:"ಕನ್ನಡ"},{value:"gu",label:"ગુજરાતી"},{value:"mr",label:"मराठी"},{value:"pa",label:"ਪੰਜਾਬੀ"},{value:"ne",label:"नेपाली"},{value:"si",label:"සිංහල"},{value:"my",label:"မြန်မာ"},{value:"km",label:"ខ្មែរ"},{value:"lo",label:"ລາວ"},{value:"ka",label:"ქართული"},{value:"hy",label:"Հայերեն"},{value:"az",label:"Azərbaycan"},{value:"kk",label:"Қазақ"},{value:"ky",label:"Кыргыз"},{value:"uz",label:"O'zbek"},{value:"mn",label:"Монгол"},{value:"bo",label:"བོད་སྐད"},{value:"ug",label:"ئۇيغۇر"}];function Oo({value:e=[],onValueChange:r,placeholder:t,className:l,disabled:n,maxSelected:a=10}){const{t:u}=xe(),[d,m]=o.useState(!1),c=f=>{if(!r)return;const b=e||[];let w;if(b.includes(f))w=b.filter(R=>R!==f);else if(b.length<a)w=[...b,f];else return;r(w)},p=f=>{if(!r)return;const b=(e||[]).filter(w=>w!==f);r(b)},h=Fe.filter(f=>e?.includes(f.value)),x=t||u("auth.selectLanguages");return i.jsxs(co,{open:d,onOpenChange:m,children:[i.jsx(po,{asChild:!0,children:i.jsxs(xt,{variant:"outline",role:"combobox","aria-expanded":d,className:`w-full justify-between bg-input-background border-border hover:bg-input-background ${l}`,disabled:n,children:[i.jsx("div",{className:"flex gap-1 flex-1 min-h-[20px] overflow-hidden",children:h.length===0?i.jsx("span",{className:"text-muted-foreground",children:x}):h.map(f=>i.jsxs(Kt,{variant:"secondary",className:"text-xs bg-secondary text-secondary-foreground hover:bg-secondary/80 flex items-center gap-1",children:[f.label,i.jsx("span",{className:"h-4 w-4 rounded-full hover:bg-secondary-foreground/20 flex items-center justify-center cursor-pointer transition-colors",onClick:b=>{b.preventDefault(),b.stopPropagation(),p(f.value)},children:i.jsx(Ht,{className:"h-3 w-3"})})]},f.value))}),i.jsx(Pt,{className:"h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(fo,{className:"w-[400px] p-0",align:"start",children:i.jsxs(Vr,{children:[i.jsx(qr,{placeholder:u("auth.searchLanguages")}),i.jsx(Hr,{children:u("common.noResults")}),i.jsx(Yr,{className:"max-h-[300px] overflow-y-auto",children:Fe.map(f=>{const b=e?.includes(f.value),w=e&&e.length>=a&&!b;return i.jsxs(Wr,{onSelect:()=>c(f.value),className:`${w?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,disabled:w,children:[i.jsx(Yt,{className:`mr-2 h-4 w-4 ${b?"opacity-100":"opacity-0"}`}),f.label]},f.value)})}),e&&e.length>0&&i.jsx("div",{className:"p-2 border-t text-xs text-muted-foreground",children:u("auth.selectedLanguagesCount",{count:e.length,max:a})})]})})]})}export{Fo as C,_o as G,Oo as L};
