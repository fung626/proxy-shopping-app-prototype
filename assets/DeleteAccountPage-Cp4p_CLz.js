import{r as a,j as e,v as S,i as U,u as z,a as G,T as K,B as E}from"./index-CvO9pKPC.js";import{c as X}from"./index-B46UinAq.js";import{u as V,c as I}from"./index-CosQv8v_.js";import{u as W,a as Y}from"./index-wsE_5AEc.js";import{P as $}from"./index-BdAoUvTi.js";import{P as A}from"./index-BUvxBgzt.js";import{C as J}from"./check-BygKOcWJ.js";import{I as Q}from"./input-DnWsiyUA.js";import{L as R}from"./label-Cqb5pUVi.js";import{T as Z}from"./trash-2-BCR9F0r9.js";var g="Checkbox",[ee]=X(g),[te,w]=ee(g);function se(t){const{__scopeCheckbox:n,checked:c,children:m,defaultChecked:r,disabled:s,form:f,name:x,onCheckedChange:d,required:l,value:p="on",internal_do_not_use_render:u}=t,[o,b]=V({prop:c,defaultProp:r??!1,onChange:d,caller:g}),[k,j]=a.useState(null),[C,i]=a.useState(null),h=a.useRef(!1),N=k?!!f||!!k.closest("form"):!0,y={checked:o,disabled:s,setChecked:b,control:k,setControl:j,name:x,form:f,value:p,hasConsumerStoppedPropagationRef:h,required:l,defaultChecked:v(r)?!1:r,isFormControl:N,bubbleInput:C,setBubbleInput:i};return e.jsx(te,{scope:n,...y,children:re(u)?u(y):m})}var _="CheckboxTrigger",q=a.forwardRef(({__scopeCheckbox:t,onKeyDown:n,onClick:c,...m},r)=>{const{control:s,value:f,disabled:x,checked:d,required:l,setControl:p,setChecked:u,hasConsumerStoppedPropagationRef:o,isFormControl:b,bubbleInput:k}=w(_,t),j=S(r,p),C=a.useRef(d);return a.useEffect(()=>{const i=s?.form;if(i){const h=()=>u(C.current);return i.addEventListener("reset",h),()=>i.removeEventListener("reset",h)}},[s,u]),e.jsx(A.button,{type:"button",role:"checkbox","aria-checked":v(d)?"mixed":d,"aria-required":l,"data-state":F(d),"data-disabled":x?"":void 0,disabled:x,value:f,...m,ref:j,onKeyDown:I(n,i=>{i.key==="Enter"&&i.preventDefault()}),onClick:I(c,i=>{u(h=>v(h)?!0:!h),k&&b&&(o.current=i.isPropagationStopped(),o.current||i.stopPropagation())})})});q.displayName=_;var T=a.forwardRef((t,n)=>{const{__scopeCheckbox:c,name:m,checked:r,defaultChecked:s,required:f,disabled:x,value:d,onCheckedChange:l,form:p,...u}=t;return e.jsx(se,{__scopeCheckbox:c,checked:r,defaultChecked:s,disabled:x,required:f,onCheckedChange:l,name:m,form:p,value:d,internal_do_not_use_render:({isFormControl:o})=>e.jsxs(e.Fragment,{children:[e.jsx(q,{...u,ref:n,__scopeCheckbox:c}),o&&e.jsx(D,{__scopeCheckbox:c})]})})});T.displayName=g;var B="CheckboxIndicator",L=a.forwardRef((t,n)=>{const{__scopeCheckbox:c,forceMount:m,...r}=t,s=w(B,c);return e.jsx($,{present:m||v(s.checked)||s.checked===!0,children:e.jsx(A.span,{"data-state":F(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:n,style:{pointerEvents:"none",...t.style}})})});L.displayName=B;var M="CheckboxBubbleInput",D=a.forwardRef(({__scopeCheckbox:t,...n},c)=>{const{control:m,hasConsumerStoppedPropagationRef:r,checked:s,defaultChecked:f,required:x,disabled:d,name:l,value:p,form:u,bubbleInput:o,setBubbleInput:b}=w(M,t),k=S(c,b),j=W(s),C=Y(m);a.useEffect(()=>{const h=o;if(!h)return;const N=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(N,"checked").set,O=!r.current;if(j!==s&&P){const H=new Event("click",{bubbles:O});h.indeterminate=v(s),P.call(h,v(s)?!1:s),h.dispatchEvent(H)}},[o,j,s,r]);const i=a.useRef(v(s)?!1:s);return e.jsx(A.input,{type:"checkbox","aria-hidden":!0,defaultChecked:f??i.current,required:x,disabled:d,name:l,value:p,form:u,...n,tabIndex:-1,ref:k,style:{...n.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});D.displayName=M;function re(t){return typeof t=="function"}function v(t){return t==="indeterminate"}function F(t){return v(t)?"indeterminate":t?"checked":"unchecked"}function ne({className:t,...n}){return e.jsx(T,{"data-slot":"checkbox",className:U("peer h-5 w-5 shrink-0 rounded border-2 border-gray-300 bg-white transition-colors hover:border-gray-400 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:border-blue-600 data-[state=checked]:bg-blue-600 data-[state=checked]:text-white",t),...n,children:e.jsx(L,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current",children:e.jsx(J,{className:"h-3.5 w-3.5"})})})}function xe(){const{t}=z(),n=G(),[c,m]=a.useState(""),[r,s]=a.useState(!1),[f,x]=a.useState(!1),[d,l]=a.useState(""),p=async o=>{if(o.preventDefault(),l(""),!c){l(t("deleteAccount.passwordRequired"));return}if(!r){l(t("deleteAccount.confirmUnderstanding"));return}x(!0);try{await new Promise(b=>setTimeout(b,2e3)),console.log("Account deleted"),n("/")}catch{l(t("deleteAccount.deleteError"))}finally{x(!1)}},u=c&&r;return e.jsx("div",{className:"min-h-screen bg-background",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(Z,{className:"h-6 w-6 text-red-600"})}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:t("deleteAccount.deleteYourAccount")}),e.jsx("p",{className:"text-muted-foreground",children:t("deleteAccount.warning")})]}),e.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(K,{className:"h-5 w-5 text-red-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-red-900 mb-2",children:t("deleteAccount.whatWillBeDeleted")}),e.jsxs("ul",{className:"text-sm text-red-800 space-y-1",children:[e.jsxs("li",{children:["• ",t("deleteAccount.profileInfo")]}),e.jsxs("li",{children:["• ",t("deleteAccount.requestsOrders")]}),e.jsxs("li",{children:["• ",t("deleteAccount.messageHistory")]}),e.jsxs("li",{children:["• ",t("deleteAccount.verificationStatus")]}),e.jsxs("li",{children:["• ",t("deleteAccount.paymentMethods")]}),e.jsxs("li",{children:["• ",t("deleteAccount.preferences")]})]})]})]})}),e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"password",children:t("deleteAccount.confirmPassword")}),e.jsx(Q,{id:"password",type:"password",value:c,onChange:o=>m(o.target.value),placeholder:t("deleteAccount.enterPassword"),required:!0})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(ne,{id:"consequences",checked:r,onCheckedChange:o=>s(o)}),e.jsx(R,{htmlFor:"consequences",className:"text-sm leading-relaxed",children:t("deleteAccount.understandingText")})]}),d&&e.jsx("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-md",children:e.jsx("p",{className:"text-sm text-destructive",children:d})}),e.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:t("deleteAccount.alternatives")}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsxs("li",{children:["• ",t("deleteAccount.alternative1")]}),e.jsxs("li",{children:["• ",t("deleteAccount.alternative2")]}),e.jsxs("li",{children:["• ",t("deleteAccount.alternative3")]}),e.jsxs("li",{children:["• ",t("deleteAccount.alternative4")]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(E,{type:"submit",variant:"destructive",className:"w-full",disabled:!u||f,children:t(f?"deleteAccount.deleting":"deleteAccount.deleteMyAccount")}),e.jsx(E,{type:"button",variant:"outline",className:"w-full",onClick:()=>n("/profile"),children:t("common.cancel")})]})]})]})})}export{xe as DeleteAccountPage};
